{"ast":null,"code":"import _typeof from \"C:/Users/Jalil/Desktop/Cesi Eats/FrontEnd/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport { isBinary } from \"./is-binary.js\";\n/**\r\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\r\n *\r\n * @param {Object} packet - socket.io event packet\r\n * @return {Object} with deconstructed packet and list of buffers\r\n * @public\r\n */\n\nexport function deconstructPacket(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n\n  return {\n    packet: pack,\n    buffers: buffers\n  };\n}\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBinary(data)) {\n    var placeholder = {\n      _placeholder: true,\n      num: buffers.length\n    };\n    buffers.push(data);\n    return placeholder;\n  } else if (Array.isArray(data)) {\n    var newData = new Array(data.length);\n\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n\n    return newData;\n  } else if (_typeof(data) === \"object\" && !(data instanceof Date)) {\n    var _newData = {};\n\n    for (var key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key)) {\n        _newData[key] = _deconstructPacket(data[key], buffers);\n      }\n    }\n\n    return _newData;\n  }\n\n  return data;\n}\n/**\r\n * Reconstructs a binary packet from its placeholder packet and buffers\r\n *\r\n * @param {Object} packet - event packet with placeholders\r\n * @param {Array} buffers - binary buffers to put in placeholder positions\r\n * @return {Object} reconstructed packet\r\n * @public\r\n */\n\n\nexport function reconstructPacket(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n\n  return packet;\n}\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder === true) {\n    var isIndexValid = typeof data.num === \"number\" && data.num >= 0 && data.num < buffers.length;\n\n    if (isIndexValid) {\n      return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    } else {\n      throw new Error(\"illegal attachments\");\n    }\n  } else if (Array.isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (_typeof(data) === \"object\") {\n    for (var key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key)) {\n        data[key] = _reconstructPacket(data[key], buffers);\n      }\n    }\n  }\n\n  return data;\n}","map":{"version":3,"names":["isBinary","deconstructPacket","packet","buffers","packetData","data","pack","_deconstructPacket","attachments","length","placeholder","_placeholder","num","push","Array","isArray","newData","i","Date","key","Object","prototype","hasOwnProperty","call","reconstructPacket","_reconstructPacket","undefined","isIndexValid","Error"],"sources":["C:/Users/Jalil/Desktop/Cesi Eats/FrontEnd/node_modules/socket.io-parser/build/esm/binary.js"],"sourcesContent":["import { isBinary } from \"./is-binary.js\";\r\n/**\r\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\r\n *\r\n * @param {Object} packet - socket.io event packet\r\n * @return {Object} with deconstructed packet and list of buffers\r\n * @public\r\n */\r\nexport function deconstructPacket(packet) {\r\n    const buffers = [];\r\n    const packetData = packet.data;\r\n    const pack = packet;\r\n    pack.data = _deconstructPacket(packetData, buffers);\r\n    pack.attachments = buffers.length; // number of binary 'attachments'\r\n    return { packet: pack, buffers: buffers };\r\n}\r\nfunction _deconstructPacket(data, buffers) {\r\n    if (!data)\r\n        return data;\r\n    if (isBinary(data)) {\r\n        const placeholder = { _placeholder: true, num: buffers.length };\r\n        buffers.push(data);\r\n        return placeholder;\r\n    }\r\n    else if (Array.isArray(data)) {\r\n        const newData = new Array(data.length);\r\n        for (let i = 0; i < data.length; i++) {\r\n            newData[i] = _deconstructPacket(data[i], buffers);\r\n        }\r\n        return newData;\r\n    }\r\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\r\n        const newData = {};\r\n        for (const key in data) {\r\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\r\n                newData[key] = _deconstructPacket(data[key], buffers);\r\n            }\r\n        }\r\n        return newData;\r\n    }\r\n    return data;\r\n}\r\n/**\r\n * Reconstructs a binary packet from its placeholder packet and buffers\r\n *\r\n * @param {Object} packet - event packet with placeholders\r\n * @param {Array} buffers - binary buffers to put in placeholder positions\r\n * @return {Object} reconstructed packet\r\n * @public\r\n */\r\nexport function reconstructPacket(packet, buffers) {\r\n    packet.data = _reconstructPacket(packet.data, buffers);\r\n    packet.attachments = undefined; // no longer useful\r\n    return packet;\r\n}\r\nfunction _reconstructPacket(data, buffers) {\r\n    if (!data)\r\n        return data;\r\n    if (data && data._placeholder === true) {\r\n        const isIndexValid = typeof data.num === \"number\" &&\r\n            data.num >= 0 &&\r\n            data.num < buffers.length;\r\n        if (isIndexValid) {\r\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\r\n        }\r\n        else {\r\n            throw new Error(\"illegal attachments\");\r\n        }\r\n    }\r\n    else if (Array.isArray(data)) {\r\n        for (let i = 0; i < data.length; i++) {\r\n            data[i] = _reconstructPacket(data[i], buffers);\r\n        }\r\n    }\r\n    else if (typeof data === \"object\") {\r\n        for (const key in data) {\r\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\r\n                data[key] = _reconstructPacket(data[key], buffers);\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}